<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>dbotica</title>
    <!-- Tell the browser to be responsive to screen width -->
    <meta charset="utf-8" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <!-- Bootstrap 3.3.5 -->
    <link rel="stylesheet" href="bootstrap/css/bootstrap.min.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <!-- Ionicons -->
    <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <!-- Theme style -->
    <link rel="stylesheet" href="dist/css/AdminLTE.min.css">
    <link href="//code.jquery.com/ui/1.10.4/themes/ui-lightness/jquery-ui.css" rel="stylesheet">
    <!-- AdminLTE Skins. Choose a skin from the css/skins
         folder instead of downloading all of them to reduce the load. -->
    <link rel="stylesheet" href="dist/css/skins/_all-skins.min.css">
    <link rel="stylesheet" href="myPrescriptions.css">
    <!--Datepicker srcs -->
    <link rel="stylesheet" href="css/datepicker3.css" type="text/css" />
    <!--  <link rel="stylesheet" media="screen" type="text/css" href="css/layout.css" />-->
    <script type="text/javascript" src="js/jquery.js"></script>
    <script type="text/javascript" src="js/eye.js"></script>
    <script type="text/javascript" src="js/utils.js"></script>
    <script type="text/javascript" src="js/layout.js?ver=1.0.2"></script>
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body class="hold-transition skin-blue sidebar-mini">
    <div class="wrapper">
        <header id="header" class="fixed-content main-header">
            <!-- Logo -->
            <a href="entryPrescriptions.html" class="logo" style="width: 13%;">
                <!-- mini logo for sidebar mini 50x50 pixels -->
                <span class="logo-mini"><b>db</b></span>
                <!-- logo for regular state and mobile devices -->
                <span class="logo-lg"><b>dbotica</b></span>
            </a>
            <!-- Header Navbar: style can be found in header.less -->
            <nav class="navbar navbar-static-top" role="navigation" style="margin-left: 13%;">
                <!-- Sidebar toggle button-->
                <a href="#" class="sidebar-toggle" data-toggle="offcanvas" role="button">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </a>
                <div class="navbar-custom-menu">
                    <ul class="nav navbar-nav">
                        <!-- User Account: style can be found in dropdown.less -->
                        <li class="dropdown user user-menu">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                <img src="dist/img/user2-160x160.jpg" class="user-image" alt="User Image">
                                <span class="hidden-xs">Doctor 1</span>
                            </a>
                            <ul class="dropdown-menu">
                                <!-- User image -->
                                <li class="user-header">
                                    <img src="dist/img/user2-160x160.jpg" class="img-circle" alt="User Image">
                                    <p id="doctorName">
                                    </p>
                                </li>
                                <!-- Menu Body -->
                                <!-- Menu Footer-->
                                <li class="user-footer">
                                    <div class="pull-left">
                                        <a href="doctorProfile.html" class="btn btn-default btn-flat">Profile</a>
                                    </div>
                                    <div class="pull-right">
                                        <a href="#" class="btn btn-default btn-flat" id="logoutButton">Sign out</a>
                                    </div>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </nav>
        </header>
        <!-- Left side column. contains the logo and sidebar -->
        <aside class="fixed-side-content main-sidebar" style="width: 13%;">
            <!-- sidebar: style can be found in sidebar.less -->
            <section class="sidebar">
                <!-- Sidebar user panel (optional) -->
                <div class="user-panel">
                    <div class="pull-left image">
                        <img src="dist/img/user2-160x160.jpg" class="img-circle" alt="User Image">
                    </div>
                    <div class="pull-left info">
                        <p>Doctor 1</p>
                        <!-- Status -->
                        <a href="doctorProfile.html">Profile</a>
                    </div>
                </div>
                <!-- Sidebar Menu -->
                <ul class="sidebar-menu">
                    <li class="header">Welcome</li>
                    <!-- Optionally, you can add icons to the links -->
                    <li><a href="entryPrescriptions.html"><i class="fa fa-link"></i> <span>Drug prescription</span></a></li>
                    <li class="active"><a href="myPrescriptions.html"><i class="fa fa-link"></i> <span>My Prescriptions</span></a></li>
                    <li><a href="myPatients.html"><i class="fa fa-link"></i> <span>My Patients</span></a></li>
                    <li><a href="myScheduler.html"><i class="fa fa-link"></i> <span>My Scheduler</span></a></li>
                    <li><a href="referADoctor.html"><i class="fa fa-link"></i> <span>Refer dbotica</span></a></li>
                    <!--  <li class="active"><a href="../forms/PatientSearch.html"><i class="fa fa-link"></i> <span>Patient Search</span></a></li>  -->
                    <li class="treeview">
                        <!--  <a href="../tables/data.html"><i class="fa fa-link"></i> <span>Drug database</span> <i class="fa fa-angle-left pull-right"></i></a> -->
                    </li>
                </ul>
                <!-- /.sidebar-menu -->
            </section>
            <!-- /.sidebar -->
        </aside>
        <!-- Content Wrapper. Contains page content -->
        <div class="content-wrapper" style="margin-left:13%;">
            <!-- Content Header (Page header) -->
            <section class="content-header">
                <h1>
            My Prescriptions
            <!-- <small>Preview</small> -->
          </h1>
            </section>
            <!-- Main content -->
            <section class="content">
                <div class="row">
                </div>
                <!--/.col (left) -->
                <div class="col-md-14">
                    <div class="box-header with-border">
                        <h3 class="box-title"></h3>
                    </div>
                    <!-- /.box-header -->
                </div>
                <!-- right column -->
                <div class="col-md-14">
                    <!-- general form elements disabled -->
                    <div class="box box-warning">
                        <div class="box-body">
                            <form role="form" id="search-form">
                                <div class="col-md-12 form-group"></div>
                                <div class="col-md-12 form-group">
                                    <div class="col-md-6 form-group">
                                        <label for="inputEmail3" class="col-sm-3 control-label">From</label>
                                        <div class="col-sm-6">
                                            <input type="date" class="form-control" id="myprescritions-start-date" placeholder="Start Date">
                                        </div>
                                    </div>
                                    <div class="col-md-6 form-group">
                                        <label for="inputEmail3" class="col-sm-3 control-label">Patient Name</label>
                                        <div class="col-sm-6">
                                            <input type="text" class="form-control" id="myprescritions-search-name" placeholder="Name">
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-12 form-group">
                                    <div class="col-md-6 form-group">
                                        <label for="inputEmail3" class="col-sm-3 control-label">To</label>
                                        <div class="col-sm-6">
                                            <input type="date" class="form-control" id="myprescritions-end-date" placeholder="End Date">
                                        </div>
                                    </div>
                                    <div class="col-md-6 form-group">
                                        <label for="inputEmail3" class="col-sm-3 control-label">Patient Phone</label>
                                        <div class="col-sm-6">
                                            <input type="text" class="form-control" id="myprescritions-pateint-phone" placeholder="Phone Number">
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-12 form-group">
                                    <button type="search" class="btn btn-primary pull-right" id="myprescriptions-search-button">Search</button>
                                </div>
                            </form>
                        </div>
                        <!-- /.box-body -->
                    </div>
                    <!-- /.box -->
                </div>
                <!--/.col (right) -->
                <!-- /.row -->
            </section>
            <!-- /.content -->
            <!-- Main content -->
            <section class="content">
                <div class="row">
                    <div class="col-xs-12">
                        <div class="box">
                            <!-- <div class="box-header">
                                <h3 class="box-title">Prescriptions</h3>
                                <div class="accordion-header container row">
                                    <div class="col-md-3">
                                        <h4 class="name"><b>Patient Name</b></h4>
                                    </div>
                                    <div class="col-md-3">
                                        <h4><b>Date of Prescription</b></h4>
                                    </div>
                                    <div class="col-md-2">
                                        <h4><b>Age</b></h4>
                                    </div>
                                    <div class="col-md-3">
                                        <h4><b>Follow Up</b></h4>
                                    </div>
                                </div>
                            </div> -->
                            <table style="width:75%;">
                                <thead>
                                    <tr>
                                        <th style="padding-left:4%">Patient Name</th>
                                        <th>Date of Prescription</th>
                                        <th style="padding-right:2%">Age</th>
                                        <th style="padding-left:4%">Follow Up</th>
                                    </tr>
                                </thead>
                            </table>
                            <!-- /.box-header -->
                            <div class="box-body">
                                <div class="accordion col-md-11 form-group" id="prescription-list">
                                </div>
                                <div class="col-md-11 text-center">
                                    <ul id="myPager" class="pagination"></ul>
                                </div>
                            </div>
                            <!-- /.box-body -->
                        </div>
                        <!-- /.box -->
                    </div>
                    <!-- /.col -->
                </div>
                <!-- /.row -->
            </section>
            <!-- Patient details content -->
        </div>
        <!-- /.content-wrapper -->
        <footer class="main-footer" style="margin-left: 13%;margin-right: 0%;">
            <div class="pull-right hidden-xs">
                <b>Version</b> 1.0.0
            </div>
            <strong>Copyright &copy; 2015-2016 <a href="https://dbotica.com">Dbotica</a>.</strong> All rights reserved.
        </footer>
        <!-- Control Sidebar -->
    </div>
    <!-- ./wrapper -->
    <!-- jQuery 2.1.4 -->
    <script src="plugins/jQuery/jQuery-2.1.4.min.js"></script>
    <script src="//code.jquery.com/ui/1.10.0/jquery-ui.js"></script>
    <!-- Bootstrap 3.3.5 -->
    <script src="bootstrap/js/bootstrap.min.js"></script>
    <!--Cookie -->
    <script src="bootstrap/js/jquery.cookie.js"></script>
    <!-- FastClick -->
    <!-- DataTables -->
    <script src="plugins/datatables/jquery.dataTables.min.js"></script>
    <script src="plugins/datatables/dataTables.bootstrap.min.js"></script>
    <!-- AdminLTE App -->
    <script src="dist/js/app.min.js"></script>
    <!-- AdminLTE for demo purposes -->
    <script src="dist/js/demo.js"></script>
    <!-- IndexedDB for local storage-->
    <script src="indexedDB/indexedDbotica.js"></script>
    <script type="text/javascript"></script>
    <script>
    $.fn.pageMe = function(opts) {
        var $this = this,
            defaults = {
                perPage: 7,
                showPrevNext: false,
                numbersPerPage: 1,
                hidePageNumbers: false
            },
            settings = $.extend(defaults, opts);

        var listElement = $this;
        var perPage = settings.perPage;
        var children = listElement.children();
        var pager = $('.pagination');

        if (typeof settings.childSelector != "undefined") {
            children = listElement.find(settings.childSelector);
        }

        if (typeof settings.pagerSelector != "undefined") {
            pager = $(settings.pagerSelector);
        }

        var numItems = children.size();
        var numPages = Math.ceil(numItems / perPage);
        console.log("number of pages ", numPages);
        var curr = 0;
        pager.data("curr", curr);

        if (settings.showPrevNext) {
            $('<li><a href="#" class="prev_link"><<</a></li>').appendTo(pager);
        }

        while (numPages > curr && (settings.hidePageNumbers == false)) {
            $('<li><a href="#" class="page_link">' + (curr + 1) + '</a></li>').appendTo(pager);
            curr++;
        }

        if (settings.numbersPerPage > 1) {
            $('.page_link').hide();
            $('.page_link').slice(pager.data("curr"), settings.numbersPerPage).show();
        }

        if (settings.showPrevNext) {
            $('<li><a href="#" class="next_link">>></a></li>').appendTo(pager);
        }

        pager.find('.page_link:first').addClass('active');
        pager.find('.prev_link').hide();
        if (numPages <= 1) {
            pager.find('.next_link').hide();
        }
        pager.children().eq(0).addClass("active");

        children.hide();
        children.slice(0, perPage).show();

        pager.find('li .page_link').click(function() {
            var clickedPage = $(this).html().valueOf() - 1;
            goTo(clickedPage, perPage);
            return false;
        });
        pager.find('li .prev_link').click(function() {
            previous();
            return false;
        });
        pager.find('li .next_link').click(function() {
            next();
            return false;
        });

        function previous() {
            var goToPage = parseInt(pager.data("curr")) - 1;
            goTo(goToPage);
        }

        function next() {
            goToPage = parseInt(pager.data("curr")) + 1;
            goTo(goToPage);
        }

        function goTo(page) {
            var startAt = page * perPage,
                endOn = startAt + perPage;

            children.css('display', 'none').slice(startAt, endOn).show();

            if (page >= 1) {
                pager.find('.prev_link').show();
            } else {
                pager.find('.prev_link').hide();
            }

            if (page < (numPages - 1)) {
                pager.find('.next_link').show();
            } else {
                pager.find('.next_link').hide();
            }

            pager.data("curr", page);

            if (settings.numbersPerPage > 1) {
                $('.page_link').hide();
                $('.page_link').slice(page, settings.numbersPerPage + page).show();
            }

            pager.children().removeClass("active");
            pager.children().eq(page + 1).addClass("active");

        }
    };

    function addRowToPrescriptionTable(prescriptionData) {
        console.log("prescription object is----", prescriptionData);

        var date = new Date(prescriptionData['creationTime']);
        var dateStr = date.getDate() + "/" + (date.getMonth() + 1) + "/" + date.getFullYear();
        var content1 = '<div class="accordion-row row"><div class="col-md-3"><h4>' + prescriptionData['patientName'] + '</h4></div><div class="col-md-3"><h4>' + dateStr + '</h4></div><div class="col-md-2"><h4 style="padding-left:5%;">' + prescriptionData['patientInfo']['age'] + '</h4 style="padding-left:1%;"></div><div class="col-md-3"></div></div>' + '<div><div class="box-body"><div class="col-md-12 form-group"><div class="col-md-3 form-group"><h5>Gender : </h5></div><div class="col-md-3 form-group" ><h5> <p placeholder="" id="patient-gender">' + prescriptionData['patientInfo']['gender'] + '</p></h5></div><div class="col-md-3 form-group"><h5>Age : </h5></div><div class="col-md-3 form-group"><h5><p  placeholder="" id="patient-age">' + prescriptionData['patientInfo']['age'] + '</p></h5></div><div class="col-md-3 form-group"><h5>Blood Pressure : </h5></div><div class="col-md-3 form-group" ><h5> <p placeholder="" id="patient-bp">' + prescriptionData['prescription']['bloodpressure'] + '</p></h5></div><div class="col-md-3 form-group"><h5>Temperature : </h5></div><div class="col-md-3 form-group" ><h5> <p placeholder="" id="patient-temperature">' + prescriptionData['prescription']['temperature'] + '</p></h5></div></div><div class="col-md-12 form-group"><div class="col-md-3 form-group"><h5>Clinical Impression : </h5></div><div class="col-md-3 form-group"><h5><p placeholder="" id="mypres-clinicalimpression">' + prescriptionData['prescription']['remarks'] + '</p></h5></div></div><table id="current-prescriptions" class="table table-bordered table-striped"><thead><tr><th>BrandName</th><th>Per Serving</th><th>Days</th><th>Quantity</th><th>Remarks</th></tr></thead><tbody>';
        for (var dd in prescriptionData['prescription']['drugDosage']) {
            var drug = prescriptionData['prescription']['drugDosage'][dd];
            content1 += '<tr><td>' + drug['brandName'] + '</td><td>' + drug['perServing'];
            if (parseInt(drug['noOfDays']) > 3) {
                content1 += ' ML';
            } else {
                content1 += ' MG';
            }
            content1 += '</td><td>' + drug['noOfDays'] + '</td><td>' + drug['quantity'] + '</td><td>' + drug['remarks'] + '</td></tr>';


        }

        /*content1 += '</tbody></table></div></div></div>';*/
        content1 += '</tbody></table>';

        var testData = [];

        testData = prescriptionData['prescription']['diagnosisTests'];
        console.log("test data object is-----", testData);
        if (!!testData && testData.length > 0) {
            var newCount1 = 1;
            content1 += '<h4>Test Details</h4><table id="test-details-myPrescription" style="width:100%;" class="table-bordered table-striped"><thead><tr><th>S.No</th><th>Test Name</th><th>Remarks</th></tr></thead><tbody>';
            for (s in testData) {
                content1 += '<tr><td>' + newCount1 + '</td><td>' + testData[s]['testName'] + '</td><td>' + testData[s]['remark'] + '</td></tr>';
                newCount1++;
            }
            content1 += '</tbody></table>';
        } else {
            console.log("hide------");
            /*$('#test-details-myPrescription').append('
<h3>ravi teja</h3>');
*/
            $('#test-details-myPrescription').hide();
            $('#test-details-myPrescription').hide();

        }
        content1 += '</div></div></div>';
        $("#prescription-list").append(content1);




    };



    $('#myprescriptions-search-button').click(function(e) {
        e.preventDefault();
        $("#prescription-list").accordion("destroy");
        $("#prescription-list").empty();
        $("#myPager").empty();
        var fromDate = $("#myprescritions-start-date").val();
        var toDate = $("#myprescritions-end-date").val();
        var phoneNumber = $("#myprescritions-pateint-phone").val();
        console.log("from date ", fromDate);
        console.log("to date ", toDate);
        console.log("phone number ", phoneNumber);
        getPrescriptionsFromIndexedDB(fromDate, toDate, phoneNumber, addRowToPrescriptionTable, applyAccordion, "#prescription-list");
        //getAllPrescriptionsFromIndexedDB(addRowToPrescriptionTable);

    });

    function getAllPrescriptions() {
        if (phoneNumber) {
            console.log("Coming here 1");
            getPrescriptionsFromIndexedDB("", "", phoneNumber, addRowToPrescriptionTable, applyAccordion, "#prescription-list");
        } else {
            getAllPrescriptionsFromIndexedDB(addRowToPrescriptionTable, applyAccordion, "#prescription-list");
        }

    }
    var phoneNumber;
    $(document).ready(function() {
        if (localStorage.getItem("isLoggedIn") == "false") {
            window.location.replace("login.html");
        }

        var doctorName = localStorage.getItem('firstName');
        console.log("doctor name is----" + doctorName);
        $("#doctorName").text(doctorName);
        $(window).scroll(function() {
            var sticky = $('.fixed-content'),
                scroll = $(window).scrollTop();

            if (scroll > 1) sticky.addClass('fixed');
            else sticky.removeClass('fixed');
        });
        //CHANGE here
        $("#myPager").empty();
        phoneNumber = getQueryStringValue("phoneNumber");
        $('#myprescritions-pateint-phone').val(phoneNumber);
        try {
            openDb(getAllPrescriptions);
        } catch (e) {
            console.log("error opeining indexeddb", e);
        }


        //alert(phoneNumber);

        console.log("myPrescriptions opened");
        $('#username').text(localStorage.getItem('firstName'));
        $('#username1').text(localStorage.getItem('firstName'));
        var doctorId = localStorage.getItem('doctorId');
        //paginationStart();
        /* $.ajax({ 
                   type: "GET",
                   url: "http://localhost:8081/dbotica-spring/doctor/myPrescriptions",
                   data: {'doctorId': doctorId, 'start':'0','limit':'10'},
                    success: function(response){ 
                     var data1 = $.parseJSON(response.response);
                    
                   
                   for (var s in data1)
                   {
                     console.log(data1[0]);

                     var date = new Date(data1[s]['prescription']['creationTime']);
                     var dateStr = date.getDate()+"/"+(date.getMonth()+1)+"/"+date.getFullYear();
                     var content1 ='<div class="box box-default collapsed-box">'+'<div class="box-header with-border">'+'<h6 class="box-title">'+' <span class="badge bg-light-blue">'+'<h5>'+'Transaction id </h5>'+'</span>'+'&nbsp&nbsp;' +data1[s]['prescription']['id'] +'</h6>'+'<h3 class="box-title">'+'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'+'<span class="badge bg-light-blue">'+'<h5>Date of Prescription</h5> '+'</span>'+'&nbsp&nbsp;'+dateStr+'</h3>'+'<h3 class="box-title">'+'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'+'<span class="badge bg-light-blue">'+'<h5>Patient Id</h5>'+'</span>'+'&nbsp&nbsp;'+data1[s]['prescription']['id']+'</h3>'+
                       '<div class="box-tools pull-right">'+' <button class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-plus"></i></button> </div> </div>'+
                       '<div class="box-body"><div class="col-md-12 form-group"><div class="col-md-3 form-group"><h4>Gender : </h4></div><div class="col-md-3 form-group" ><h4> <p placeholder="" id="patient-gender">'+data1[s]['prescription']['gender']+'</p></h4></div><div class="col-md-3 form-group"><h4>Age : </h4></div><div class="col-md-3 form-group"><h4><p  placeholder="" id="patient-age">'+data1[s]['prescription']['age']+'</p></h4></div><div class="col-md-3 form-group"><h4>Blood Pressure : </h4></div><div class="col-md-3 form-group" ><h4> <p placeholder="" id="patient-bp">'+data1[s]['prescription']['bloodpressure']+'</p></h4></div><div class="col-md-3 form-group"><h4>Temperature : </h4></div><div class="col-md-3 form-group" ><h4> <p placeholder="" id="patient-temperature">'+data1[s]['prescription']['temperature']+'</p></h4></div></div><div class="col-md-12 form-group"><div class="col-md-3 form-group"><h4>Clinical Impression : </h4></div><div class="col-md-3 form-group"><h4><p placeholder="" id="mypres-clinicalimpression">'+data1[s]['prescription']['remarks']+'</p></h4></div></div><table id="current-prescriptions" class="table table-bordered table-striped"><thead><tr><th>BrandName</th><th>Per Serving</th><th>Days</th><th>Quantity</th><th>Remarks</th></tr></thead><tbody>';
                    
                     for(var dd in data1[s]['prescription']['drugDosage']){
                       var drug = data1[s]['prescription']['drugDosage'][dd];
                       content1 += '<tr><td>'+drug['drugId']+'</td><td>'+drug['perServing'];
                       if(parseInt(drug['noOfDays']) > 3){
                         content1 += ' ML';
                       } else {
                         content1 += ' MG';
                       }
                       content1 += '</td><td>'+drug['noOfDays']+'</td><td>'+drug['quantity']+'</td><td>'+drug['remarks']+'</td></tr>';
                     }

                     content1 += '</tbody></table></div></div>';

                     $("#content").append(content1);

                   }
                   paginationStart();
                               
                   } 

                 }); */






        //paginationStart();

    });

    /*For Accordion*/

    function applyAccordion(id) {
        $(id).pageMe({
            pagerSelector: '#myPager',
            childSelector: '.accordion-row',
            showPrevNext: true,
            hidePageNumbers: false,
            perPage: 5
        });
        $(id).accordion({
            heightStyle: "content",
            collapsible: true,
            active: false,
            activate: function(event, ui) {

                if (!$.isEmptyObject(ui.newHeader.offset())) {

                    $('html:not(:animated), body:not(:animated)').animate({
                        scrollTop: ui.newHeader.offset().top
                    }, 'slow');

                }

            }

        });
        //$(id).accordion("refresh");
    }

    $('#logoutButton').click(function(e) {
        $.ajax({
            type: "POST",
            url: "http://localhost:8081/dbotica-spring/doctor/logout",
            beforeSend: function(xhr) {
                xhr.setRequestHeader("Content-Type", "application/json");
                xhr.setRequestHeader("Accept", "application/json");
            },
            xhrFields: {
                withCredentials: true
            },
            success: function(response) {
                localStorage.clear();
                window.location.replace("login.html");
            }
        });
    });







    function getQueryStringValue(key) {
        return unescape(window.location.search.replace(new RegExp("^(?:.*[&\\?]" + escape(key).replace(/[\.\+\*]/g, "\\$&") + "(?:\\=([^&]*))?)?.*$", "i"), "$1"));
    }
    </script>
</body>

</html>
