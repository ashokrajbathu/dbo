<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>AdminLTE 2 | Invoice</title>
    <!-- Tell the browser to be responsive to screen width -->
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <!-- Bootstrap 3.3.5 -->
    <link rel="stylesheet" href="../../bootstrap/css/bootstrap.min.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <!-- Ionicons -->
    <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <!-- Theme style -->
    <link rel="stylesheet" href="../../dist/css/AdminLTE.min.css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script type = "text/javascript" 
         src = "http://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script> 

    <script src="http://crypto-js.googlecode.com/svn/tags/3.1.2/build/rollups/aes.js"></script>

  </head>
  <body onload="window.print();">
    <div class="wrapper">
      <!-- Main content -->
      <section class="invoice">
        <!-- title row -->
        <div class="row">
          <div class="col-xs-12">
            <h2 class="page-header">
              <i class="fa fa-globe"></i> dbotica, Inc.
              <small class="pull-right">Date: 2/10/2014</small>
            </h2>
          </div><!-- /.col -->
        </div>
        <!-- info row -->
                <div class="row invoice-info">
               <div class="col-sm-4 invoice-col">
              Doctor Details
              <address>
                <strong><span id="pr-doctor-name" ></span></strong>&nbsp;&nbsp;<span placeholder="docqual" id="doctor-qual"></span><br>
                <span  id="pr-doctor-specialization"></span><br>
                <span  id="pr-doctor-organization"></span><br>
                <span  id="pr-doctor-adrs"></span><br>
                <span  id="pr-doctor-phn"></span><br>
                <span id="">Email Id</span>
              </address>
            </div><!-- /.col -->
          <div class="col-sm-3 invoice-col">
            Patient Details
            <address>
              <strong><span id="patient-name" ></span></strong>&nbsp;&nbsp;<span placeholder="docqual" id="doctor-qual"></span><br>
                <span  id="pr-patient-age"></span><br>
                <span  id="pr-patient-gender"></span><br>
                <span  id="pr-patient-email"></span><br>
                <span id=""></span>
            </address>
          </div><!-- /.col -->
          <div class="col-sm-5 invoice-col">
            <b>Bar Code</b><br>
            <br>
            <b> <span  id=""></span>Transaction ID:</b> 4F3S8J<br>
            
          </div><!-- /.col -->
        </div><!-- /.row -->
        <div class="row">
          <div class="col-xs-10">
           <strong>Clinical Impression : <span id="report-ci" ></span></strong> <br><br>

          </div>

        </div>

        <!-- Table row -->
        <div class="row">
          <div class="box-header">
              
                  <h3 class="box-title">Prescription Details</h3>
                </div><!-- /.box-header -->
                <div class="box-body no-padding">
                   <div class="col-xs-12">
                  <table class="table table-striped">
                    <tr >
                      <th style="width: 16%"></th>
                      <th style="width: 17%"></th>
                      <th style="width: 17%"></th>
                      <th style="width: 17%"></th>
                      <th style="width: 16%"></th>
                      <th style="width: 17%"></th>
                    </tr>
                    <tr >
                      
                      <td colspan="1" style="width: 16%"><div align="center"><strong >Symptoms</strong></div></td>
                      <td colspan="5" style="width: 84%">
                        <span class="form-control" placeholder="Patient Name" value="Type" id="patient-report-ci">
                      </td>
                      
                    </tr>
                    <tr>
                       <td colspan="1" style="width: 16%"><div align="center"><strong >Investigation</strong></div></td>
                      <td colspan="5" style="width: 84%">
                        <span class="form-control" placeholder="Patient Name" value="Type" id="patient-investigation">
                      </td>
                    </tr>
                    <tr>
                      <td ><div align="center"><strong >Height</strong></div></td>
                      
                      <td>
                        <span class="form-control" placeholder="Patient Name" value="Type" id="patient-height">
                      </td>
                      <td><div align="center"><strong >Weight</strong></div></td>
                      <td><span class="form-control" placeholder="Patient Name" value="Type" id="patient-weight"></td>
                      <td><div align="center"><strong >BMI</strong></div></td>
                      
                      <td>
                        <span class="form-control" placeholder="Patient Name" value="Type" id="patient-bmi">
                      </td>

                    </tr>
                    <tr>
                        <td><div align="center"><strong >Blood Pressure</strong></div></td>
                      <td><span class="form-control" placeholder="Patient Name" value="Type" id="patient-bloodpressure"></td>
                    
                       <td><div align="center"><strong >Temperature</strong></div></td>
                      
                      <td>
                        <span class="form-control" placeholder="Patient Name" value="Type" id="patient-temperature">
                      </td>
                      <td><div align="center"><strong >Pulse</strong></div></td>
                      <td><span class="form-control" placeholder="Patient Name" value="Type" id="patient-pulse"></td>
                    </tr>
                    <tr>
                       <td><div align="center"><strong >Saturation</strong></div></td>
                      
                      <td>
                        <span class="form-control" placeholder="Patient Name" value="Type" id="patient-saturation">
                      </td>
                      <td><div align="center"><strong >Re-visit On</strong></div></td>
                      <td><span class="form-control" placeholder="Patient Name" value="Type" id="patient-revisit"></td><td></td>
                    </tr>
                    <tr >
                      
                      <td colspan="1" style="width: 16%"><div align="center"><strong >Additional References</strong></div></td>
                      <td colspan="5" style="width: 84%">
                        <span class="form-control" placeholder="Patient Name" value="Type" id="patient-report-references">
                      </td>
                      
                    </tr>
                  </table>
                </div>
                </div><!--body-->
        </div>
        <div class="row"></div>
        <div class="row">
          <div class="col-xs-12 table-responsive">
            <table id="report-prescriptions" class="table table-bordered table-striped">
                    <thead>
                       <tr>
                        <th>S.No</th>
                        <th>BrandName</th>
                        <th>Per Serving</th>
                        <th>Days/Quantity</th>
                        <th>Usage</th>
                        <th>Remarks</th>
                      </tr>
                    </thead>
                    <tbody></tbody>
                  <!-- <tfoot>
                      <tr>
                        <th>Rendering engine</th>
                        <th>Browser</th>
                        <th>Platform(s)</th>
                        <th>Engine version</th>
                        <th>CSS grade</th>
                      </tr>
                    </tfoot> -->
                  </table>
          </div><!-- /.col -->
        </div>
        <div class="row">
          <div class="col-xs-12 pull-right"><br><br>
           <small class="pull-right"><label>Bar Code : </label><span  id="pr-bar-code" ></span></small> <br><br>

          </div>

        </div>
<!-- /.row -->

             </section><!-- /.content -->
    </div><!-- ./wrapper -->

    <!-- AdminLTE App -->
    <script src="../../dist/js/app.min.js"></script>
     <!-- jQuery 2.1.4 -->
    <script src="../../plugins/jQuery/jQuery-2.1.4.min.js"></script>

    <script type="text/javascript" src="../../plugins/jQuery/jquery-barcode.js"></script> 
    <script src="http://crypto-js.googlecode.com/svn/tags/3.1.2/build/rollups/aes.js"></script>
    <!-- Bootstrap 3.3.5 -->
    <script src="../../bootstrap/js/bootstrap.min.js"></script>
    <!--Cookie -->
    <script src="../../bootstrap/js/jquery.cookie.js"></script>
    <!-- FastClick -->
    <script src="../../plugins/fastclick/fastclick.min.js"></script>
     <!-- DataTables -->
    <script src="../../plugins/datatables/jquery.dataTables.min.js"></script>
    <script src="../../plugins/datatables/dataTables.bootstrap.min.js"></script>
    <!-- AdminLTE App -->
    <script src="../../dist/js/app.min.js"></script>
    <!-- AdminLTE for demo purposes -->
    <script src="../../dist/js/demo.js"></script>


   
<script type="text/javascript">
   $(document).ready(function(){

      
 
               
      var ci = $.cookie('cookie-cli-imp');
      $('#report-ci').html(ci);

      var temp = $.cookie('currentPatientInfo-temp');
     // alert(temp);
      var height = $.cookie('currentPatientInfo-height');
      var weight = $.cookie('currentPatientInfo-weight');
      var bloodPressure = $.cookie('currentPatientInfo-bloodPressure');
      var impression = $.cookie('currentPatientInfo-impression');
      var bmi = $.cookie('currentPatientInfo-bmi');
      var saturatn = $.cookie('currentPatientInfo-saturation');
      var pulse = $.cookie('currentPatientInfo-pulse');
      var investigation = $.cookie('currentPrescriptionInf0-inv');
      var additionaRef = $.cookie('currentPrescriptionInfo-additionalref');

      if (!!temp && temp.length != 0) {
        $('#patient-temperature').text(temp);
      } 

      if (!!height && height.length != 0) {
        $('#patient-height').text(height);
      } 

      if (!!weight && weight.length != 0) {
        $('#patient-weight').text(weight);
      } 

      if (!!bloodPressure && bloodPressure.length != 0) {
        $('#patient-bloodpressure').text(bloodPressure);
      } 

      if (!!impression && impression.length != 0) {
        $('#patient-report-ci').text(impression);
      } 

      if(!!saturatn && saturatn.length != 0) {
        $('#patient-saturation').text(saturatn);
      }

      if(!!pulse && pulse.length != 0) {
        $('#patient-pulse').text(pulse);
      }

      if(!!bmi && bmi.length != 0) {
        $('#patient-bmi').text(bmi);
      }

      if(!!investigation && investigation.length != 0) {
        $('#patient-investigation').text(investigation);
      }
      
      if(!!additionaRef && additionaRef.length != 0) {
        $('#patient-report-references').text(additionaRef);
      }
      
      //console.log(drugData.length);
     
        // $('#report-prescriptions > tbody').($.cookie('drugHtml'));
       

        var drugData = JSON.parse($.cookie('drugPojoList'));

          var sno=1;
          for(s in drugData)
          {

            $('#report-prescriptions > tbody').append('<tr ><td>'+sno+'</td><td>'+drugData[s]['brandName']+'</td><td>'+drugData[s]['perServing']+'</td><td>'+drugData[s]['noOfDays']+'</td><td>'+drugData[s]['usageDirection']+'</td><td>'+drugData[s]['remarks']+'</td>');
           
              sno++;
            
          }



       //var doctor-id = localStorage.getItem('doctorId');
      // var doctor-name = localStorage.getItem('firstName');
       //var doctor-speciality = localStorage.getItem('doctorSpeciality');
       //var doctor-organization = localStorage.getItem('doctorOrganization');
       //var doctor-qualification = localStorage.getItem('doctorQualification');
       //var doctor-ards = localStorage.getItem('doctorOfficeAddress');
       //var doctor-phn = localStorage.getItem('doctorPublicPhoneNumber');

       var docname = localStorage.getItem('firstName');
       var docid =  localStorage.getItem('doctorId');
       var docOrg = localStorage.getItem('doctorOrganization');
       var docSpe = localStorage.getItem('doctorSpeciality');
       var docQua = localStorage.getItem('doctorQualification');
       var docAdrs = localStorage.getItem('doctorOfficeAddress');
       var docPhn = localStorage.getItem('doctorPublicPhoneNumber');

       $('#pr-doctor-name').text(docname);
       $('#pr-doctor-qual').text(docQua);
       $('#pr-doctor-specialization').text(docSpe);
       $('#pr-doctor-ards').text(docAdrs);
       if (!!docPhn && docPhn.length != 0 && docPhn != "undefined") {
         $('#pr-doctor-phn').text(docPhn);
       }

       $('#pr-doctor-organization').text(docOrg);
      try {
        var data1 = $.parseJSON($.cookie('currentPatientInfo'));
        if (data1.length != 0) {
          $('#patient-name').text(data1[0]['firstName']);
          if (!!data1[0]['email']) {
            $('#patient-email').text(data1[0]['email']);
          }
          $('#patient-age').text(data1[0]['age']);
          $('#patient-gender').text(data1[0]['gender']);        
        }
      } catch (e) {

      }

       console.log("docname "+docname +" docid "+docid+" docorg "+docOrg+" docspe "+docSpe+" docadr "+docAdrs+" docphn "+docPhn);

       populateBarCode();
       // $('#report-prescriptions').DataTable();

});

</script>
<script type="text/javascript">
function populateBarCode() {
      var  firstName = localStorage.getItem('firstName');
      if (!firstName || firstName.length == 0) {
        firstName =  "dbotica";
      }
      var encrypted = CryptoJS.AES.encrypt("my message", firstName);
      var decrypted = CryptoJS.AES.decrypt(encrypted, "doctor123");
      var result = decrypted.toString(CryptoJS.enc.Utf8);
      $("#pr-bar-code").barcode(encrypted.toString(), "code128");
      return encrypted;
    }

</script>



  </body>
</html>
